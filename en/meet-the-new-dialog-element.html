
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>html dialog element Â· css you should know</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-vuejs-2/vue.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                



<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Grid layout
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="a-complete-guide-css-grid-layout.html">
            
                <a href="a-complete-guide-css-grid-layout.html">
            
                    
                    A Complete Guide to CSS Grid Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="building-a-home-page-with-grid.html">
            
                <a href="building-a-home-page-with-grid.html">
            
                    
                    Building a homepage with grid
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Flex layout
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="a-guild-to-flexbox.html">
            
                <a href="a-guild-to-flexbox.html">
            
                    
                    A guide to flexbox
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Custom properties
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="css-custom-properties-the-basics.html">
            
                <a href="css-custom-properties-the-basics.html">
            
                    
                    Css custom properties
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <span>
            
                    
                    Something new
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="2.1.1" data-path="meet-the-new-dialog-element.html">
            
                <a href="meet-the-new-dialog-element.html">
            
                    
                    html dialog element
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>



                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                

                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >html dialog element</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="meet-the-new-dialog-element">Meet the New Dialog Element</h1>
<blockquote>
<p>author by <a href="https://keithjgrant.com/posts/2018/meet-the-new-dialog-element/" target="_blank">Keith J. Grant</a></p>
</blockquote>
<p><a href="https://www.w3.org/TR/html52/" target="_blank">HTML 5.2</a> has introduced a new <code>&lt;dialog&gt;</code> element for native modal dialog boxes. At first glance, it seems fairly straightforward (and it is), but as I&#x2019;ve been playing around with it, I&#x2019;ve found it has some nice features that might be easy to miss.</p>
<p>I&#x2019;ve embedded a full working demo at the end of this article, but if you want to check it out as you read along, <a href="https://codepen.io/keithjgrant/pen/eyMMVL" target="_blank">you can see it here</a>.</p>
<p>Here is the markup for a basic dialog box:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">open</span>&gt;</span>
  Native dialog box!
<span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>
</code></pre>
<p>The <code>open</code> attribute means that the dialog is visible. Without it, the dialog is hidden until you use JavaScript to make it appear. Before any styling is added, the dialog renders as follows:</p>
<p><img src="https://cloud.hunger-valley.com/upload_native-dialog-basic_1516271145482_338331.png" alt="Text in a box with a thick black outline"></p>
<p>It&#x2019;s absolutely positioned on the page, so it will appear in front of other content as you would expect, and is centered horizontally. By default, it&#x2019;s as wide as the contents within.</p>
<h2 id="basic-operation">Basic Operation</h2>
<p>JavaScript has a few methods and properties to make working with the <code>&lt;dialog&gt;</code> element easy. The two methods you will probably need the most are <code>showModal()</code> and <code>close()</code>.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> modal = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&apos;dialog&apos;</span>);

<span class="hljs-comment">// makes modal appear (adds `open` attribute)</span>
modal.showModal();

<span class="hljs-comment">// hides modal (removes `open` attribute)</span>
modal.close();
</code></pre>
<p>When you use <code>showModal()</code> to open the dialog, a backdrop is added to the page, blocking user interaction with the contents outside the modal. By default, this backdrop is fully transparent, but you can make it visible with CSS (more on that below).</p>
<p>Pressing Esc will close the dialog, and you can provide a close button to trigger the <code>close()</code> method.</p>
<p>There is a third method, <code>show()</code> that also make the modal appear but without the accompanying backdrop. The user will still be able to interact with elements that are visible outside the dialog box.</p>
<h3 id="browser-support-and-polyfill">Browser Support and Polyfill</h3>
<p>Right now, <code>&lt;dialog&gt;</code> behavior is only supported in Chrome. Firefox provides default styling, but the JavaScript API is only enabled behind a flag. I suspect Firefox will enable it by default soon.</p>
<p>Thankfully, there is <a href="https://github.com/GoogleChrome/dialog-polyfill" target="_blank">a polyfill</a> that provides both the JavaScript behavior and a stylesheet with default styling. Install <code>dialog-polyfill</code> in npm to use it&#x2014;or use a regular old <code>&lt;script&gt;</code> tag. It works in IE9 and up.</p>
<p>When using the polyfill, each dialog on the page needs to be initialized:</p>
<pre><code class="lang-javascript">dialogPolyfill.registerDialog(modal);
</code></pre>
<p>This will not replace native behavior for browsers that have it.</p>
<h2 id="styling">Styling</h2>
<p>Opening and closing a modal is nice, but it doesn&#x2019;t look very professional at first. Adding styling is as simple as styling any other element. The backdrop can be styled with the new <code>::backdrop</code> pseudo-element.</p>
<pre><code class="lang-css"><span class="hljs-selector-tag">dialog</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">0.6rem</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1em</span> black;
}

<span class="hljs-selector-tag">dialog</span><span class="hljs-selector-pseudo">::backdrop</span> {
  <span class="hljs-comment">/* make the backdrop a semi-transparent black */</span>
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.4);
}
</code></pre>
<p>For older browsers using the polyfill, this pseudo-element selector will not work, however. In its place, the polyfill adds a <code>.backdrop</code> element immediately following the dialog. You can target it with CSS like this:</p>
<pre><code class="lang-css"><span class="hljs-selector-tag">dialog</span> + <span class="hljs-selector-class">.backdrop</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(0, 0, 0, 0.4);
}
</code></pre>
<p>Add a little more markup to provide styling hooks. A common approach to dialog boxes is to break it up into a header, a body, and a footer:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo-modal&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-header&quot;</span>&gt;</span>A native modal dialog box<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-body&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Finally, HTML has a native dialog box element! This is fantastic.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>And a polyfill makes this usable today.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;modal-footer&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;close&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span>&gt;</span>close<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>
</code></pre>
<p>Add some CSS to this, and you can make the modal look however you want:</p>
<p><img src="https://cloud.hunger-valley.com/upload_native-dialog-styled_1516271145491_457330.png" alt="Text in a box with a thick black outline"></p>
<h2 id="more-control">More control</h2>
<p>Often, we want some sort of user feedback from a dialog box. When closing a dialog, you can pass a string value to the <code>close()</code> method. This value is assigned to the <code>returnValue</code> property of the dialog DOM element, so it can be read later:</p>
<pre><code class="lang-javascript">modal.close(<span class="hljs-string">&apos;Accepted&apos;</span>);

<span class="hljs-built_in">console</span>.log(modal.returnValue); <span class="hljs-comment">// logs `Accepted`</span>
</code></pre>
<p>There are also some events you can listen for. Two useful ones are <code>close</code> (triggered when the modal is closed) and <code>cancel</code> (triggered when the user presses Esc to close the modal).</p>
<p>One thing that seems to be missing is the ability to close the modal when the backdrop is clicked, but there is a workaround. Clicking the backdrop fires a click event with the <code>&lt;dialog&gt;</code> as the event target. And if you construct the modal such that child elements fill the entire space of the dialog, those child elements will be the target of any clicks inside the dialog. This way, you can listen for clicks on the dialog, and close it when the dialog itself is the target of the click event:</p>
<pre><code class="lang-javascript">modal.addEventListener(<span class="hljs-string">&apos;click&apos;</span>, (event) =&gt; {
  <span class="hljs-keyword">if</span> (event.target === modal) {
    modal.close(<span class="hljs-string">&apos;cancelled&apos;</span>);
  }
});
</code></pre>
<p>This isn&#x2019;t perfect, but it works. Please let me know if you find a better way to detect clicks on the backdrop.</p>
<h2 id="full-working-demo">Full working demo</h2>
<p>I&#x2019;ve worked a lot of stuff into the demo below. Play around with and see what else you can do with <code>&lt;dialog&gt;</code>. This includes the polyfill, so it should work in most browsers.</p>
<p>See the Pen <a href="https://codepen.io/keithjgrant/pen/eyMMVL/" target="_blank"><dialog></dialog></a> by Keith J. Grant (<a href="https://codepen.io/keithjgrant" target="_blank">@keithjgrant</a>) on <a href="https://codepen.io" target="_blank">CodePen</a>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                

            </div>

            
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"html dialog element","level":"2.1.1","depth":2,"previous":{"title":"Something new","level":"2.1","depth":1,"ref":"","articles":[{"title":"html dialog element","level":"2.1.1","depth":2,"path":"meet-the-new-dialog-element.md","ref":"meet-the-new-dialog-element.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["edit-link","theme-vuejs-2","codepen","-fontsettings","github"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/jirengu/css-you-should-know/"},"search":{},"codepen":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"theme-vuejs-2":{},"highlight":{},"sharing":{"facebook":false,"twitter":false,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit This Page","base":"https://github.com/jirengu/css-you-should-know/tree/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"css you should know","language":"en","links":{"sharing":{"facebook":false,"twitter":false}},"gitbook":"*"},"file":{"path":"meet-the-new-dialog-element.md","mtime":"2018-01-18T10:30:48.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-19T04:00:31.594Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-codepen/embed-codepen.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    

    </body>
</html>

